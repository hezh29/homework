# Homework 08

## 1.阅读 Pseudocode Standard。（答案可以打印）

(1)用伪代码描述将十进制转换成16进制的方法

```
SET Function hexa(number)
    IF number < 0 THEN
        PRINT "-"
        Compute number as 0 - number
    ENDIF
    Compute hexadecimal as number % 16
    IF number > 16 THEN
        Compute number as round down (number / 16)
        CALL hexa(number)
    ENDIF
    CASE hexadecimal OF
        0 : PRINT "0"
        1 : PRINT "1"
        2 : PRINT "2"
        3 : PRINT "3"
        4 : PRINT "4"
        5 : PRINT "5"
        6 : PRINT "6"
        7 : PRINT "7"
        8 : PRINT "8"
        9 : PRINT "9"
        10 : PRINT "A"
        11 : PRINT "B"
        12 : PRINT "C"
        13 : PRINT "D"
        14 : PRINT "E"
        15 : PRINT "F"
    ENDCASE
END hexa
```

(2) C语言实现（先用注释写好算法，然后翻译）

```c
#include<stdio.h>

void hexa(int number);

int main() {
	int number;

	scanf("%d", &number);

	hexa(number);

	return 0;
}

void hexa(int number) {
	int hexadecimal;

	if (number < 0) {
		printf("-");

		number = -number;
	}

	hexadecimal = number % 16;
	if (number > 16) {
		hexa(number / 16);
	}


	switch (hexadecimal) {
    case 0:;
	case 1:;
	case 2:;
	case 3:;
	case 4:;
	case 5:;
	case 6:;
	case 7:;
	case 8:;
	case 9:printf("%d", hexadecimal); break;
	case 10:printf("A"); break;
	case 11:printf("B"); break;
	case 12:printf("C"); break;
	case 13:printf("D"); break;
	case 14:printf("E"); break;
	case 15:printf("F"); break;
	}
}
```
(3)使用 -1, 0, 1, 15, 26，3265 最为输入测试你的程序  
-1,0,1,F,1A,CC1

## 2.名词解释与对比

(1)Top-down design  
>A top-down approach (also known as stepwise design and in some cases used as a synonym of decomposition) is essentially the breaking down of a system to gain insight into its compositional sub-systems in a reverse engineering fashion.

(2) Work breakdown structure (WBS) 
>A work-breakdown structure (WBS)[2] in project management and systems engineering, is a deliverable-oriented breakdown of a project into smaller components.   

(3)简述管理学 WBS 与 信息学Top-down设计 的异同  
同：都是将一个大的系统分解为多个小系统  
异：Top-down design 是对解决问题的步骤进行细分，WBS是将一个系统按不同的类型细分多个子系统

## 3.仔细观察您洗衣机的运作过程，运用Top-down设计方法和Pseudocode 描述洗衣机控制程序。 

>假设洗衣机可执行的基本操作如下：
>water_in_switch(open_close) // open 打开上水开关，close关闭  
>water_out_switch(open_close) // open 打开排水开关，close关闭  
>get_water_volume() //返回洗衣机内部水的高度  
>motor_run(direction) // 电机转动。left左转，right右转，stop停  
>time_counter() // 返回当前时间计数，以秒为单位  
>halt(returncode) //停机，success 成功 failure 失败  

(1)请使用伪代码分解“正常洗衣”程序的大步骤。包括注水、浸泡等  

```
water_in()//注水
soak()//浸泡
wash()//洗涤
rinse()//漂洗
dehydrate()//脱水
halt//停机
```

(2)进一步用基本操作、控制语句（IF、FOR、WHILE等）、变量与表达式，写出每个步骤的伪代码  

```
//注水
SET Function water_in()
    water_in_switch(open)
    WHILE get_water_volume() < setting_water_volume
        DO nothing
    END WHILE
    water_in_switch(close)
END water_in

//浸泡
SET Function soak()
    SET start_time = time_counter()
    WHILE time_counter() < start_time + soak_time
        DO nothing
    END WHILE
END soak

//洗涤
SET Function wash()
    SET counter = 0
    WHILE counter < wash_times
        SET start_time = time_counter()
        motor_run(right)
        WHILE time_counter() < start_time + rotation_time
            DO nothing
        END WHILE
        SET start_time = time_counter()
        motor_run(left)
        WHILE time_counter() < start_time + rotation_time
            DO nothing
        END WHILE
        motor_run(stop)
        INCREASE counter
    END WHILE
    water_out_switch(open)
    WHILE get_water_volume() > low_water_volume
        DO nothing
    END WHILE
    water_out_switch(close)
END wash

//漂洗
SET Function rinse()
    SET counter = 0
    WHILE counter < rinse_times
        water_in()
        wash()
        INCREASE counter
    END WHILE
END rinse

//脱水
SET Function dehydrate()
    SET start_time = time_counter()
    motor_run(left)
    WHILE time_counter() < start_time + dehydrate_time
        DO nothing
    END WHILE
    motor_run(stop)
END dehydrate

//停机
halt()
```

(3)根据你的实践，请分析“正常洗衣”与“快速洗衣”在用户目标和程序上的异同。你认为是否存在改进（创新）空间，简单说明你的改进意见？  
同：都是为了清洗衣服
异：“正常洗衣”目的在于洗得更干净，“快速洗衣”目的在于节省时间与能源。  
意见：让用户可以自由选择洗涤与漂洗的次数

4）通过步骤3），提取一些共性功能模块（函数），简化“正常洗衣”程序，使程序变得更利于人类理解和修改维护。  
```
//等待
SET Function wait(time)
    SET start_time = time_counter()
    WHILE time_counter() < start_time + time
        DO nothing
    END WHILE
END wait

//注水
SET Function water_in(setting_water_volume, timeout)
    SET start_time = time_counter()
    water_in_switch(open)
    WHILE get_water_volume() < setting_water_volume
        IF time_counter() > start_time + timeout THEN
            halt()
        END IF
    END WHILE
    water_in_switch(close)
END water_in

//排水
SET water_out(time_out)
    water_out_switch(open)
    SET start_time = time_counter()
    WHILE get_water_volume() > low_water_volume
        IF time_counter() > start_time + timeout THEN
            halt()
        END IF
    END WHILE
    water_out_switch(close)
END water_out


//浸泡
SET Function soak()
    wait(soak_time)
END soak

//洗涤
SET Function wash()
    SET counter = 0
    WHILE counter < wash_times
        motor_run(right)
        wait(rotation_time)
        motor_run(left)
        wait(rotation_time)
        motor_run(stop)
        INCREASE counter
    END WHILE
    water_out(timeout)
END wash

//漂洗
SET Function rinse()
    SET counter = 0
    WHILE counter < rinse_times
        water_in(setting_water_volume, timeout)
        wash()
        INCREASE counter
    END WHILE
END rinse

//脱水
SET Function dehydrate()
    motor_run(left)
    wait(dehydrate_time)
    motor_run(stop)
END dehydrate

//停机
halt()
```